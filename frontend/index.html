<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SmartAI Chat</title>
<style>
body { font-family: Arial; background:#e5ddd5; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
.chat-container { width:400px; height:600px; background:#f7f7f7; border-radius:10px; display:flex; flex-direction:column; overflow:hidden; box-shadow:0 4px 10px rgba(0,0,0,0.2); }
.chat-box { flex:1; padding:10px; overflow-y:auto; display:flex; flex-direction:column; }
.message { margin:5px 0; padding:10px 14px; border-radius:20px; max-width:70%; opacity:0; transform:translateY(20px); animation:slideUp 0.3s forwards; position:relative; }
@keyframes slideUp { to { opacity:1; transform:translateY(0); } }
.user { background:#0084ff; color:white; align-self:flex-end; border-bottom-right-radius:0; }
.ai { background:#e0e0e0; color:black; align-self:flex-start; border-bottom-left-radius:0; }
.timestamp { font-size:10px; color:#666; margin-top:2px; text-align:right; }
.input-area { display:flex; border-top:1px solid #ddd; }
input { flex:1; padding:12px; border:none; font-size:16px; }
button { padding:12px 20px; border:none; background:#0084ff; color:white; cursor:pointer; font-weight:bold; }
button:hover { background:#005bb5; }
</style>
</head>
<body>
<div class="chat-container">
  <div class="chat-box" id="chatBox"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Type your message...">
    <button onclick="sendMessage()">Send</button>
  </div>
</div>
<script>
const chatBox = document.getElementById('chatBox');
const userInput = document.getElementById('userInput');

function addMessage(text,type){
  const msg=document.createElement('div');
  msg.className='message '+type;
  msg.innerHTML=`${text}<div class="timestamp">${new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</div>`;
  chatBox.appendChild(msg);
  chatBox.scrollTop=chatBox.scrollHeight;
}

async function sendMessage(){
  const text=userInput.value.trim();
  if(!text)return;
  addMessage(text,'user');
  userInput.value='';
  const aiMsg=document.createElement('div');
  aiMsg.className='message ai';
  aiMsg.textContent='Thinking... ‚è≥';
  chatBox.appendChild(aiMsg);
  chatBox.scrollTop=chatBox.scrollHeight;
  try{
    const response=await fetch('https://6mm3r3xji0.execute-api.us-east-1.amazonaws.com/default/smartapi_lambda_executor',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({instruction:text})
    });
    const data=await response.json();
    aiMsg.textContent=data.reply||'Oops! No reply';
    const timeDiv=document.createElement('div');
    timeDiv.className='timestamp';
    timeDiv.textContent=new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
    aiMsg.appendChild(timeDiv);
    chatBox.scrollTop=chatBox.scrollHeight;
  }catch(e){
    aiMsg.textContent='Error: '+e.message;
  }
}

userInput.addEventListener('keypress',function(e){if(e.key==='Enter')sendMessage();});
</script>
</body>
</html>
  
